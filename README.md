Усольцев Илья АТ-10

# Техническое задание на игру **Hell Tower**

## 1. Общие сведения

- **Название:** Hell Tower  
- **Жанр:** Платформер c видом сбоку 
- **Платформа:** Windows (Windows Forms)  

---

## 2. Основные требования

### 2.1. Игровой процесс

#### Основной цикл
- Игрок поднимается вверх по бесконечно генерируемым платформам.
- На пути встречаются враги и препятствия.
- **Цель:** набрать как можно очков и подняться как можно выше.

#### Механики игрока

**Передвижение:**
- Горизонтальное перемещение
- Прыжок с регулируемой высотой (зависит от времени удержания клавиши)
- Рывок (Dash) с неуязвимостью

**Атаки:**
- Ближняя атака мечом (урон: 1, отталкивание врага и игрока, по области)
- Энергетическая атака (урон: 3, отталкивание врага, по области, стоимость: 20 энергии)

**Защита:**
- Исцеление (стоимость: 40 энергии, +1 сердце)
- Неуязвимость во время рывка

**Ресурсы:**
- Здоровье: 3 сердца (теряются при получении урона или попадании на бомбу)
- Энергия: максимум 100 единиц, изначально - 0 (восстанавливается при убийстве врагов)

---

#### Враги

**Bat (Летучая мышь):**
- Здоровье: 1
- Поведение: преследование игрока в радиусе 800 px 
- Награда: 100 очков × множитель высоты, 5 энергии

**Skeleton (Скелет):**
- Здоровье: 3
- Поведение: патрулирование платформ, атака вблизи, преследование игрока в радиусе 300 px (при условии что игрок не ниже скелета)
- Награда: 200 очков × множитель высоты, 10 энергии

---

#### Условия поражения
- Падение за нижнюю границу экрана
- Обнуление здоровья

---

### 2.2. Интерфейс

#### Главное меню
- **Кнопки:**
  - Старт — начало игры
  - Настройки и управление — изменение громкости и просмотр управления
  - Выход — закрытие приложения
- **Фон:** изображение адской башни

#### Настройки и управление
- Управление
- Регулировка громкости звука
- Кнопка назад

#### Меню паузы
- **Кнопки:**
  - Продолжить
  - Настройки
  - Выход в меню

#### Игровой HUD
- Очки (Score)
- Текущая высота (Height)
- Здоровье (сердечки)
- Шкала энергии

#### Экран поражения
- Итоговые очки
- Максимальная высота
- Enter — возврат в меню

---

### 2.3. Графика и анимации

#### Спрайты игрока (14 текстур)
- Анимации: бег, прыжок, атака, рывок
- Состояния: обычный, неуязвимый, лечение

#### Спрайты врагов
- **Bat:** анимация полета + получение урона (8 текстур)
- **Skeleton:** анимация ходьбы и атаки + получение урона (16 текстур)

#### Эффекты
- Хитбокс обычной атаки
- Хитбокс энергетической атаки

#### Окружение
- Платформы, окна.
- Фон: кирпичная стена башни.

---

### 2.4. Управление

| Клавиша | Действие              |
|--------|------------------------|
| A / D  | Движение               |
| S      | Спуск                  |
| Пробел | Прыжок                 |
| Shift  | Рывок (Dash)           |
| J      | Атака мечом            |
| K      | Энергетическая атака   |
| Ctrl   | Лечение                |
| Esc    | Пауза                  |

---

### 2.5. Логика и физика

#### Генерация мира
- Процедурная генерация платформ в зависимости от высоты
- Прогрессирующее появление врагов

#### Физика
- Гравитация (с ограничением скорости падения)
- Отталкивание при атаке

#### Система очков
- Базовые очки за врагов
- Множитель очков за высоту

#### Фон
Фон реализован в виде динамического вертикального скролла: изображение смещается вверх по мере подъема игрока, 
создавая иллюзию непрерывного восхождения.

#### Спавн мобов
- **Bat:**
  - спавнятся из окон с шансом 2 процента за каждый кадр и кулдауном в 5 сек. (максимум 3 мыши из окна)
- **Skeleton:** анимация ходьбы и атаки + получение урона (16 текстур)
  - спавнятся на платформе (предварительно проверяя, что на ней не находится игрок) с шансом 30 процентов каждый кадр и кулдауном в 5 сек. (максимум 1 скелет на платформе)

---

## 3. Технические детали

### 3.1. Архитектура

**Model:**
- `GameWorld` — управление объектами
- `Player`, `Enemy` и т.д. — логика сущностей

**View:**
- `GameRenderer` — отрисовка игры и HUD

**Controller:**
- `GameController` — связь между Model и View
- `InputHandler` — обработка ввода

---

### 3.2. Настройки

Конфигурируемые параметры:
- Громкость звука

---

### 3.3. Оптимизация

- Очистка объектов за пределами экрана

---

## 4. Дополнительно

Возможности расширения:
- Добавить еще одну атаку
- Добавить врагов
- Добавить увеличение сложности по мере подъема.
- Добавить ачивки
